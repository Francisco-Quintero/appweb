<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Domiciliario</title>
    <link rel="stylesheet" href="CSS/stylesDomiciliario.css">
    <link rel="stylesheet" href="CSS/barraLateral.css">
    <!-- Cambiamos la forma de cargar Lucide -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
   integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
   crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
   integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
   crossorigin=""></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Finlandica:ital,wght@0,400..700;1,400..700&family=Funnel+Sans:ital,wght@0,300..800;1,300..800&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap');
    </style>
</head>
<body>
    <div class="dashboard">
        <!-- Botón para mostrar/ocultar la barra lateral en móviles -->
        <button id="sidebarToggle" class="sidebar-toggle">
            <i data-lucide="menu"></i>
        </button>
        
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="#" class="logo">
                    <i data-lucide="bike"></i>
                    <span>Panel de Domiciliario</span>
                </a>
                <button class="close-sidebar" id="closeSidebar">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-module="pedidos-asignados">
                    <i data-lucide="clipboard-list"></i>
                    <span>Pedidos Asignados</span>
                </a>
                <a href="#" class="nav-item" data-module="gestion-pagos">
                    <i data-lucide="banknote"></i>
                    <span>Gestión de Pagos</span>
                </a>
                <a href="#" class="nav-item" data-module="historial-entregas">
                    <i data-lucide="history"></i>
                    <span>Historial de Entregas</span>
                </a>
            </nav>
            <div class="sidebar-settings">
                <div class="settings-header">Configuración</div>
                <a href="#" class="nav-item" data-module="perfil-domiciliario">
                    <i data-lucide="user"></i>
                    <span>Mi Perfil</span>
                </a>
            </div>
            <div class="sidebar-footer">
                <a href="indexTienda.html" class="volver-tienda">
                    <i data-lucide="store"></i>
                    <span>Volver a la Tienda</span>
                </a>
            </div>
        </div>
        <div class="main-content">
            <header class="main-header">
                <h1 id="section-title">Panel de Domiciliario</h1>
                <div class="header-actions">
                    <button class="action-button" id="notificationsButton">
                        <i data-lucide="bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                    <div class="user-menu">
                        <button id="userMenuButton" class="user-menu-button">
                            <i data-lucide="user-circle"></i>
                            <span class="username">Domiciliario</span>
                        </button>
                        <div id="userDropdown" class="user-dropdown">
                            <div class="user-info">
                                <i data-lucide="user"></i>
                                <div>
                                    <div class="user-name">Juan Pérez</div>
                                    <div class="user-email">juan.perez@ejemplo.com</div>
                                </div>
                            </div>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item" data-module="perfil-domiciliario">
                                <i data-lucide="user-cog"></i>
                                <span>Mi Perfil</span>
                            </a>
                            <a href="#" class="dropdown-item">
                                <i data-lucide="settings"></i>
                                <span>Configuración</span>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item" id="btnCerrarSesion">
                                <i data-lucide="log-out"></i>
                                <span>Cerrar sesión</span>
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            <main id="main-container" class="dashboard-content">
                <!-- Indicador de carga -->
                <div class="loading-indicator">
                    <div class="spinner"></div>
                    <p>Cargando...</p>
                </div>
            </main>
            <footer class="main-footer">
                <p>&copy; 2025 Sistema de Domiciliarios. Todos los derechos reservados.</p>
            </footer>
        </div>
    </div>

    <!-- Notificaciones -->
    <div id="notificationsPanel" class="notifications-panel">
        <div class="notifications-header">
            <h3>Notificaciones</h3>
            <button id="closeNotifications">
                <i data-lucide="x"></i>
            </button>
        </div>
        <div class="notifications-list">
            <div class="notification-item unread">
                <div class="notification-icon warning">
                    <i data-lucide="alert-triangle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title">Nuevo pedido asignado</div>
                    <div class="notification-message">Se te ha asignado un nuevo pedido para entregar.</div>
                    <div class="notification-time">Hace 10 minutos</div>
                </div>
            </div>
            <div class="notification-item unread">
                <div class="notification-icon success">
                    <i data-lucide="check-circle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title">Entrega confirmada</div>
                    <div class="notification-message">El pedido #1234 ha sido confirmado como entregado.</div>
                    <div class="notification-time">Hace 2 horas</div>
                </div>
            </div>
            <div class="notification-item">
                <div class="notification-icon info">
                    <i data-lucide="info"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title">Actualización de ruta</div>
                    <div class="notification-message">Se ha actualizado la ruta para tus entregas de hoy.</div>
                    <div class="notification-time">Ayer</div>
                </div>
            </div>
        </div>
        <div class="notifications-footer">
            <a href="#" class="view-all">Ver todas las notificaciones</a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script type="module" src="JS/scriptsDomiciliario.js"></script>
</body>
</html>
